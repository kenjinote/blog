---
title: 'iOS 向けの ffmpeg パラメータ'
date: 2025-03-02T04:16:07+09:00
tags: ["iOS", "ffmpeg"]
draft: false
image: "img.png"
---

# iOS向けに最適化した ffmpeg の変換パラメータ

iOSデバイス（iPhoneやiPad）でスムーズに再生できるように、動画を変換するための `ffmpeg` コマンドをご紹介します。

```bash
ffmpeg -i input.mp4 \
-c:v libx264 -profile:v high -level 4.1 \
-vf "scale=1920:-2" -r 30 \
-crf 20 -preset slow \
-c:a aac -b:a 128k -ar 48000 \
-movflags +faststart output.mp4
```

### 各オプションの意味（簡単な解説）

| オプション                        | 説明                                          |
| ---------------------------- | ------------------------------------------- |
| `-i input.mp4`               | 入力ファイル（変換元の動画）                              |
| `-c:v libx264`               | H.264で映像をエンコード（iOS対応）                       |
| `-profile:v high -level 4.1` | iOSで広く互換性のあるプロファイルとレベル                      |
| `-vf "scale=1920:-2"`        | 幅1920pxにリサイズ、高さはアスペクト比維持で自動調整               |
| `-r 30`                      | フレームレート30fpsに変換                             |
| `-crf 20`                    | 映像の品質（数値が低いほど高画質、推奨18～23）                   |
| `-preset slow`               | エンコード速度と圧縮率のバランス（slowは高圧縮・高画質）              |
| `-c:a aac`                   | 音声はAAC形式でエンコード                              |
| `-b:a 128k`                  | 音声ビットレートを128kbpsに設定                         |
| `-ar 48000`                  | 音声のサンプリングレートを48kHzに設定（iOS推奨）                |
| `-movflags +faststart`       | 動画の先頭にインデックスを配置し、**WebやiOSでのストリーミング再生を高速化** |

---

この設定で変換された動画は、iPhoneやiPadなどのApple製デバイスで高い互換性とスムーズな再生が期待できます。

---

必要に応じて、解像度やビットレートを変更することで、ファイルサイズや画質を調整できます。高画質が必要な場合は `-crf` を18前後に、ファイルサイズを小さくしたい場合は22～25に設定してみてください。
